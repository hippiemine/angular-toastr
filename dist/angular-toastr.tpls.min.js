!function(){"use strict";function t(t,e,s,n,o,i,r){function a(t){if(t)g(t.toastId);else for(var e=0;e<w.length;e++)g(w[e].toastId)}function l(t,e,s){var n=f().iconClasses.error;return m(n,t,e,s)}function c(t,e,s){var n=f().iconClasses.info;return m(n,t,e,s)}function u(t,e,s){var n=f().iconClasses.success;return m(n,t,e,s)}function p(t,e,s){var n=f().iconClasses.warning;return m(n,t,e,s)}function d(t,e,s){var n=f().iconClasses.alert;return m(n,t,e,s)}function g(e,s){function n(t){for(var e=0;e<w.length;e++)if(w[e].toastId===t)return w[e]}function o(){return!w.length}var a=n(e);a&&!a.deleting&&(a.deleting=!0,a.isOpened=!1,t.leave(a.el).then(function(){a.scope.options.onHidden&&a.scope.options.onHidden(s),a.scope.$destroy();var t=w.indexOf(a);delete T[a.scope.message],w.splice(t,1);var e=i.maxOpened;e&&w.length>=e&&w[e-1].open.resolve(),o()&&(h.remove(),h=null,x=r.defer())}))}function m(t,e,s,n){return angular.isObject(s)&&(n=s,s=null),C({iconClass:t,message:e,optionsOverride:n,title:s})}function f(){return angular.extend({},i)}function v(e){if(h)return x.promise;h=angular.element("<div></div>"),h.attr("id",e.containerId),h.addClass(e.positionClass),h.css({"pointer-events":"auto"});var s=angular.element(document.querySelector(e.target));if(!s||!s.length)throw"Target for toasts doesn't exist";return t.enter(h,s).then(function(){x.resolve()}),x.promise}function C(s){function i(){return d.autoDismiss&&d.maxOpened&&w.length>d.maxOpened}function a(t,e,s){s.allowHtml?(t.scope.allowHtml=!0,t.scope.title=o.trustAsHtml(e.title),t.scope.message=o.trustAsHtml(e.message)):(t.scope.title=e.title,t.scope.message=e.message),t.scope.toastType=t.iconClass,t.scope.toastId=t.toastId,t.scope.options={extendedTimeOut:s.extendedTimeOut,messageClass:s.messageClass,onHidden:s.onHidden,onShown:s.onShown,progressBar:s.progressBar,tapToDismiss:s.tapToDismiss,timeOut:s.timeOut,timeOutFunction:s.timeOutFunction,titleClass:s.titleClass,toastClass:s.toastClass,onClick:s.onClick,btnYesClick:s.btnYesClick,btnNoClick:s.btnNoClick,showBtnYesNo:s.showBtnYesNo,btnYesText:s.btnYesText,btnNoText:s.btnNoText},s.closeButton&&(t.scope.options.closeHtml=s.closeHtml)}function l(){function t(t){for(var e=["containerId","iconClasses","maxOpened","newestOnTop","positionClass","preventDuplicates","preventOpenDuplicates","templates"],s=0,n=e.length;n>s;s++)delete t[e[s]];return t}var e={toastId:b++,isOpened:!1,scope:n.$new(),open:r.defer()};return e.iconClass=s.iconClass,s.optionsOverride&&(d=angular.extend(d,t(s.optionsOverride)),e.iconClass=s.optionsOverride.iconClass||e.iconClass),a(e,s,d),e.el=c(e.scope),e}function c(t){var s=angular.element("<div toast></div>"),n=e.get("$compile");return n(s)(t)}function u(){return d.maxOpened&&w.length<=d.maxOpened||!d.maxOpened}function p(){var t=d.preventDuplicates&&s.message===O,e=d.preventOpenDuplicates&&T[s.message];return t||e?!0:(O=s.message,T[s.message]=!0,!1)}var d=f();if(!p()){var m=l();if(w.push(m),i())for(var C=w.slice(0,w.length-d.maxOpened),x=0,B=C.length;B>x;x++)g(C[x].toastId);return u()&&m.open.resolve(),m.open.promise.then(function(){v(d).then(function(){if(m.isOpened=!0,d.newestOnTop)t.enter(m.el,h).then(function(){m.scope.init()});else{var e=h[0].lastChild?angular.element(h[0].lastChild):null;t.enter(m.el,h,e).then(function(){m.scope.init()})}})}),m}}var h,b=0,w=[],O="",T={},x=r.defer(),B={clear:a,error:l,info:c,remove:g,success:u,warning:p,alert:d};return B}angular.module("toastr",[]).factory("toastr",t),t.$inject=["$animate","$injector","$document","$rootScope","$sce","toastrConfig","$q"]}(),function(){"use strict";angular.module("toastr").constant("toastrConfig",{allowHtml:!1,autoDismiss:!1,closeButton:!1,closeHtml:"<button>&times;</button>",containerId:"toast-container",extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning",alert:"toast-alert"},maxOpened:0,messageClass:"toast-message",newestOnTop:!0,onHidden:null,onShown:null,onClick:null,showBtnYesNo:!1,btnYesClick:null,btnNoClick:null,btnYesText:"确定",btnNoText:"取消",positionClass:"toast-top-right",preventDuplicates:!1,preventOpenDuplicates:!1,progressBar:!1,tapToDismiss:!0,target:"body",templates:{toast:"directives/toast/toast.html",progressbar:"directives/progressbar/progressbar.html"},timeOut:5e3,timeOutFunction:null,titleClass:"toast-title",toastClass:"toast"})}(),function(){"use strict";function t(t){function e(t,e,s,n){function o(){var t=(a-(new Date).getTime())/r*100;e.css("width",t+"%")}var i,r,a;n.progressBar=t,t.start=function(t){i&&clearInterval(i),r=parseFloat(t),a=(new Date).getTime()+r,i=setInterval(o,10)},t.stop=function(){i&&clearInterval(i)},t.$on("$destroy",function(){clearInterval(i)})}return{replace:!0,require:"^toast",templateUrl:function(){return t.templates.progressbar},link:e}}angular.module("toastr").directive("progressBar",t),t.$inject=["toastrConfig"]}(),function(){"use strict";function t(){this.progressBar=null,this.startProgressBar=function(t){this.progressBar&&this.progressBar.start(t)},this.stopProgressBar=function(){this.progressBar&&this.progressBar.stop()}}angular.module("toastr").controller("ToastController",t)}(),function(){"use strict";function t(t,e,s,n){function o(s,o,i,r){function a(t){return r.startProgressBar(t),e(function(){r.stopProgressBar(),n.remove(s.toastId),"function"==typeof s.timeOutFunction&&s.timeOutFunction()},t,1)}function l(){s.progressBar=!1,r.stopProgressBar()}function c(){return s.options.closeHtml}var u;if(s.toastClass=s.options.toastClass,s.titleClass=s.options.titleClass,s.messageClass=s.options.messageClass,s.progressBar=s.options.progressBar,s.showBtnYesNo=s.options.showBtnYesNo,s.btnYesText=s.options.btnYesText,s.btnNoText=s.options.btnNoText,s.timeOutFunction=s.options.timeOutFunction,console.log(s.options.timeOutFunction),c()){var p=angular.element(s.options.closeHtml),d=t.get("$compile");p.addClass("toast-close-button"),p.attr("ng-click","close()"),d(p)(s),o.prepend(p)}s.init=function(){s.options.timeOut&&(u=a(s.options.timeOut)),s.options.onShown&&s.options.onShown()},o.on("mouseenter",function(){l(),u&&e.cancel(u)}),s.tapToast=function(){s.options.tapToDismiss?s.close(!0):"function"==typeof s.options.onClick&&s.options.onClick()},s.btnYesClick=function(t){angular.isFunction(s.options.btnYesClick)&&(s.options.btnYesClick(),t.stopPropagation(),n.remove(s.toastId,!0))},s.btnNoClick=function(t){angular.isFunction(s.options.btnNoClick)&&(s.options.btnNoClick(),t.stopPropagation(),n.remove(s.toastId,!0))},s.close=function(t){n.remove(s.toastId,t)},o.on("mouseleave",function(){(0!==s.options.timeOut||0!==s.options.extendedTimeOut)&&(s.$apply(function(){s.progressBar=s.options.progressBar}),u=a(s.options.extendedTimeOut))})}return{replace:!0,templateUrl:function(){return s.templates.toast},controller:"ToastController",link:o}}angular.module("toastr").directive("toast",t),t.$inject=["$injector","$interval","toastrConfig","toastr"]}(),angular.module("toastr").run(["$templateCache",function(t){t.put("directives/progressbar/progressbar.html",'<div class="toast-progress"></div>\r\n'),t.put("directives/toast/default.html",'<div ng-click=\\ "tapToast()\\" class=\\ "{{toastClass}} {{toastType}}\\">\\n\r\n    <div ng-switch on=\\ "allowHtml\\">\\n\r\n        <div ng-switch-default ng-if=\\ "title\\" class=\\ "{{titleClass}}\\">{{title}}</div>\\n\r\n        <div ng-switch-default class=\\ "{{messageClass}}\\">{{message}}</div>\\n\r\n        <div ng-switch-when=\\ "true\\" ng-if=\\ "title\\" class=\\ "{{titleClass}}\\" ng-bind-html=\\ "title\\"></div>\\n\r\n        <div ng-switch-when=\\ "true\\" class=\\ "{{messageClass}}\\" ng-bind-html=\\ "message\\"></div>\\n </div>\\n\r\n    <progress-bar ng-if=\\ "progressBar\\"></progress-bar>\\n</div>\r\n'),t.put("directives/toast/toast.html",'<div class="{{toastClass}} {{toastType}}" ng-click="tapToast()">\r\n  <div ng-switch on="allowHtml">\r\n    <div ng-switch-default ng-if="title" class="{{titleClass}}">{{title}}</div>\r\n    <div ng-switch-default class="{{messageClass}}">{{message}}</div>\r\n    <div ng-switch-when="true" ng-if="title" class="{{titleClass}}" ng-bind-html="title"></div>\r\n    <div ng-switch-when="true" class="{{messageClass}}" ng-bind-html="message"></div>\r\n  </div>\r\n  <div class="toast-btn-group" ng-show="showBtnYesNo">\r\n  	<div class="toast-btn-box">\r\n  		<input type="button" value="{{btnYesText}}" class="toast-btn" ng-click="btnYesClick($event)">\r\n  	</div>\r\n  	<div class="toast-btn-box">\r\n  		<input type="button" value="{{btnNoText}}" class="toast-btn" ng-click="btnNoClick($event)">\r\n  	</div>\r\n  </div>\r\n  <progress-bar ng-if="progressBar"></progress-bar>\r\n</div>\r\n')}]);